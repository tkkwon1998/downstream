"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.processComptrollerEvent = exports.comptrollerCommands = void 0;
const World_1 = require("../World");
const Contract_1 = require("../Contract");
const Invokation_1 = require("../Invokation");
const CoreValue_1 = require("../CoreValue");
const Command_1 = require("../Command");
const ComptrollerImplBuilder_1 = require("../Builder/ComptrollerImplBuilder");
const ErrorReporter_1 = require("../ErrorReporter");
const ContractLookup_1 = require("../ContractLookup");
const ComptrollerValue_1 = require("../Value/ComptrollerValue");
const CTokenValue_1 = require("../Value/CTokenValue");
const Utils_1 = require("../Utils");
async function genComptroller(world, from, params) {
    let { world: nextWorld, comptrollerImpl: comptroller, comptrollerImplData: comptrollerData } = await ComptrollerImplBuilder_1.buildComptrollerImpl(world, from, params);
    world = nextWorld;
    world = World_1.addAction(world, `Added Comptroller (${comptrollerData.description}) at address ${comptroller._address}`, comptrollerData.invokation);
    return world;
}
;
async function setPaused(world, from, comptroller, actionName, isPaused) {
    const pauseMap = {
        "Mint": comptroller.methods._setMintPaused
    };
    if (!pauseMap[actionName]) {
        throw `Cannot find pause function for action "${actionName}"`;
    }
    let invokation = await Invokation_1.invoke(world, comptroller[actionName]([isPaused]), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: set paused for ${actionName} to ${isPaused}`, invokation);
    return world;
}
async function setMaxAssets(world, from, comptroller, numberOfAssets) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setMaxAssets(numberOfAssets.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set max assets to ${numberOfAssets.show()}`, invokation);
    return world;
}
async function setLiquidationIncentive(world, from, comptroller, liquidationIncentive) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setLiquidationIncentive(liquidationIncentive.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set liquidation incentive to ${liquidationIncentive.show()}`, invokation);
    return world;
}
async function supportMarket(world, from, comptroller, cToken) {
    if (world.dryRun) {
        // Skip this specifically on dry runs since it's likely to crash due to a number of reasons
        world.printer.printLine(`Dry run: Supporting market  \`${cToken._address}\``);
        return world;
    }
    let invokation = await Invokation_1.invoke(world, comptroller.methods._supportMarket(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Supported market ${cToken.name}`, invokation);
    return world;
}
async function unlistMarket(world, from, comptroller, cToken) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.unlist(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Unlisted market ${cToken.name}`, invokation);
    return world;
}
async function enterMarkets(world, from, comptroller, assets) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.enterMarkets(assets), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Called enter assets ${assets} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function exitMarket(world, from, comptroller, asset) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.exitMarket(asset), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Called exit market ${asset} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function setPriceOracle(world, from, comptroller, priceOracleAddr) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPriceOracle(priceOracleAddr), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set price oracle for to ${priceOracleAddr} as ${World_1.describeUser(world, from)}`, invokation);
    return world;
}
async function setCollateralFactor(world, from, comptroller, cToken, collateralFactor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCollateralFactor(cToken._address, collateralFactor.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set collateral factor for ${cToken.name} to ${collateralFactor.show()}`, invokation);
    return world;
}
async function setCloseFactor(world, from, comptroller, closeFactor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCloseFactor(closeFactor.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Set close factor to ${closeFactor.show()}`, invokation);
    return world;
}
async function fastForward(world, from, comptroller, blocks) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.fastForward(blocks.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Fast forward ${blocks.show()} blocks to #${invokation.value}`, invokation);
    return world;
}
async function sendAny(world, from, comptroller, signature, callArgs) {
    const fnData = Utils_1.encodeABI(world, signature, callArgs);
    await world.web3.eth.sendTransaction({
        to: comptroller._address,
        data: fnData,
        from: from
    });
    return world;
}
async function addCompMarkets(world, from, comptroller, cTokens) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._addCompMarkets(cTokens.map(c => c._address)), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Added COMP markets ${cTokens.map(c => c.name)}`, invokation);
    return world;
}
async function dropCompMarket(world, from, comptroller, cToken) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._dropCompMarket(cToken._address), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Drop COMP market ${cToken.name}`, invokation);
    return world;
}
async function refreshCompSpeeds(world, from, comptroller) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.refreshCompSpeeds(), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Refreshed COMP speeds`, invokation);
    return world;
}
async function claimComp(world, from, comptroller, holder) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.claimComp(holder), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp claimed by ${holder}`, invokation);
    return world;
}
async function claimCompInMarkets(world, from, comptroller, holder, cTokens) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.claimComp(holder, cTokens.map(c => c._address)), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp claimed by ${holder} in markets ${cTokens.map(c => c.name)}`, invokation);
    return world;
}
async function updateContributorRewards(world, from, comptroller, contributor) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods.updateContributorRewards(contributor), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Contributor rewards updated for ${contributor}`, invokation);
    return world;
}
async function grantComp(world, from, comptroller, recipient, amount) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._grantComp(recipient, amount.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `${amount.show()} comp granted to ${recipient}`, invokation);
    return world;
}
async function setCompRate(world, from, comptroller, rate) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCompRate(rate.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp rate set to ${rate.show()}`, invokation);
    return world;
}
async function setCompSpeed(world, from, comptroller, cToken, speed) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCompSpeed(cToken._address, speed.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp speed for market ${cToken._address} set to ${speed.show()}`, invokation);
    return world;
}
async function setCompSpeeds(world, from, comptroller, cTokens, supplySpeeds, borrowSpeeds) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setCompSpeeds(cTokens.map(c => c._address), supplySpeeds.map(speed => speed.encode()), borrowSpeeds.map(speed => speed.encode())), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp speed for markets [${cTokens.map(c => c._address)}] set to supplySpeeds=[${supplySpeeds.map(speed => speed.show())}, borrowSpeeds=[${borrowSpeeds.map(speed => speed.show())}]`, invokation);
    return world;
}
async function setContributorCompSpeed(world, from, comptroller, contributor, speed) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setContributorCompSpeed(contributor, speed.encode()), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comp speed for contributor ${contributor} set to ${speed.show()}`, invokation);
    return world;
}
async function printLiquidity(world, comptroller) {
    let enterEvents = await Contract_1.getPastEvents(world, comptroller, 'StdComptroller', 'MarketEntered');
    let addresses = enterEvents.map((event) => event.returnValues['account']);
    let uniq = [...new Set(addresses)];
    world.printer.printLine("Liquidity:");
    const liquidityMap = await Promise.all(uniq.map(async (address) => {
        let userLiquidity = await ComptrollerValue_1.getLiquidity(world, comptroller, address);
        return [address, userLiquidity.val];
    }));
    liquidityMap.forEach(([address, liquidity]) => {
        world.printer.printLine(`\t${world.settings.lookupAlias(address)}: ${liquidity / 1e18}e18`);
    });
    return world;
}
async function setPendingAdmin(world, from, comptroller, newPendingAdmin) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPendingAdmin(newPendingAdmin), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets pending admin to ${newPendingAdmin}`, invokation);
    return world;
}
async function acceptAdmin(world, from, comptroller) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._acceptAdmin(), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} accepts admin`, invokation);
    return world;
}
async function setPauseGuardian(world, from, comptroller, newPauseGuardian) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setPauseGuardian(newPauseGuardian), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets pause guardian to ${newPauseGuardian}`, invokation);
    return world;
}
async function setGuardianPaused(world, from, comptroller, action, state) {
    let fun;
    switch (action) {
        case "Transfer":
            fun = comptroller.methods._setTransferPaused;
            break;
        case "Seize":
            fun = comptroller.methods._setSeizePaused;
            break;
    }
    let invokation = await Invokation_1.invoke(world, fun(state), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets ${action} paused`, invokation);
    return world;
}
async function setGuardianMarketPaused(world, from, comptroller, cToken, action, state) {
    let fun;
    switch (action) {
        case "Mint":
            fun = comptroller.methods._setMintPaused;
            break;
        case "Borrow":
            fun = comptroller.methods._setBorrowPaused;
            break;
    }
    let invokation = await Invokation_1.invoke(world, fun(cToken._address, state), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets ${action} paused`, invokation);
    return world;
}
async function setMarketBorrowCaps(world, from, comptroller, cTokens, borrowCaps) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setMarketBorrowCaps(cTokens.map(c => c._address), borrowCaps.map(c => c.encode())), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Borrow caps on ${cTokens} set to ${borrowCaps}`, invokation);
    return world;
}
async function setBorrowCapGuardian(world, from, comptroller, newBorrowCapGuardian) {
    let invokation = await Invokation_1.invoke(world, comptroller.methods._setBorrowCapGuardian(newBorrowCapGuardian), from, ErrorReporter_1.ComptrollerErrorReporter);
    world = World_1.addAction(world, `Comptroller: ${World_1.describeUser(world, from)} sets borrow cap guardian to ${newBorrowCapGuardian}`, invokation);
    return world;
}
function comptrollerCommands() {
    return [
        new Command_1.Command(`
        #### Deploy

        * "Comptroller Deploy ...comptrollerParams" - Generates a new Comptroller (not as Impl)
          * E.g. "Comptroller Deploy YesNo"
      `, "Deploy", [new Command_1.Arg("comptrollerParams", CoreValue_1.getEventV, { variadic: true })], (world, from, { comptrollerParams }) => genComptroller(world, from, comptrollerParams.val)),
        new Command_1.Command(`
        #### SetPaused

        * "Comptroller SetPaused <Action> <Bool>" - Pauses or unpaused given cToken function
          * E.g. "Comptroller SetPaused "Mint" True"
      `, "SetPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, action, isPaused }) => setPaused(world, from, comptroller, action.val, isPaused.val)),
        new Command_1.Command(`
        #### SupportMarket

        * "Comptroller SupportMarket <CToken>" - Adds support in the Comptroller for the given cToken
          * E.g. "Comptroller SupportMarket cZRX"
      `, "SupportMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => supportMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
        #### UnList

        * "Comptroller UnList <CToken>" - Mock unlists a given market in tests
          * E.g. "Comptroller UnList cZRX"
      `, "UnList", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => unlistMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
        #### EnterMarkets

        * "Comptroller EnterMarkets (<CToken> ...)" - User enters the given markets
          * E.g. "Comptroller EnterMarkets (cZRX cETH)"
      `, "EnterMarkets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true })
        ], (world, from, { comptroller, cTokens }) => enterMarkets(world, from, comptroller, cTokens.map((c) => c._address))),
        new Command_1.Command(`
        #### ExitMarket

        * "Comptroller ExitMarket <CToken>" - User exits the given markets
          * E.g. "Comptroller ExitMarket cZRX"
      `, "ExitMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => exitMarket(world, from, comptroller, cToken._address)),
        new Command_1.Command(`
        #### SetMaxAssets

        * "Comptroller SetMaxAssets <Number>" - Sets (or resets) the max allowed asset count
          * E.g. "Comptroller SetMaxAssets 4"
      `, "SetMaxAssets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("maxAssets", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, maxAssets }) => setMaxAssets(world, from, comptroller, maxAssets)),
        new Command_1.Command(`
        #### LiquidationIncentive

        * "Comptroller LiquidationIncentive <Number>" - Sets the liquidation incentive
          * E.g. "Comptroller LiquidationIncentive 1.1"
      `, "LiquidationIncentive", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("liquidationIncentive", CoreValue_1.getExpNumberV)
        ], (world, from, { comptroller, liquidationIncentive }) => setLiquidationIncentive(world, from, comptroller, liquidationIncentive)),
        new Command_1.Command(`
        #### SetPriceOracle

        * "Comptroller SetPriceOracle oracle:<Address>" - Sets the price oracle address
          * E.g. "Comptroller SetPriceOracle 0x..."
      `, "SetPriceOracle", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("priceOracle", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, priceOracle }) => setPriceOracle(world, from, comptroller, priceOracle.val)),
        new Command_1.Command(`
        #### SetCollateralFactor

        * "Comptroller SetCollateralFactor <CToken> <Number>" - Sets the collateral factor for given cToken to number
          * E.g. "Comptroller SetCollateralFactor cZRX 0.1"
      `, "SetCollateralFactor", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("collateralFactor", CoreValue_1.getExpNumberV)
        ], (world, from, { comptroller, cToken, collateralFactor }) => setCollateralFactor(world, from, comptroller, cToken, collateralFactor)),
        new Command_1.Command(`
        #### SetCloseFactor

        * "Comptroller SetCloseFactor <Number>" - Sets the close factor to given percentage
          * E.g. "Comptroller SetCloseFactor 0.2"
      `, "SetCloseFactor", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("closeFactor", CoreValue_1.getPercentV)
        ], (world, from, { comptroller, closeFactor }) => setCloseFactor(world, from, comptroller, closeFactor)),
        new Command_1.Command(`
        #### SetPendingAdmin

        * "Comptroller SetPendingAdmin newPendingAdmin:<Address>" - Sets the pending admin for the Comptroller
          * E.g. "Comptroller SetPendingAdmin Geoff"
      `, "SetPendingAdmin", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newPendingAdmin", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newPendingAdmin }) => setPendingAdmin(world, from, comptroller, newPendingAdmin.val)),
        new Command_1.Command(`
        #### AcceptAdmin

        * "Comptroller AcceptAdmin" - Accepts admin for the Comptroller
          * E.g. "From Geoff (Comptroller AcceptAdmin)"
      `, "AcceptAdmin", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
        ], (world, from, { comptroller }) => acceptAdmin(world, from, comptroller)),
        new Command_1.Command(`
        #### SetPauseGuardian

        * "Comptroller SetPauseGuardian newPauseGuardian:<Address>" - Sets the PauseGuardian for the Comptroller
          * E.g. "Comptroller SetPauseGuardian Geoff"
      `, "SetPauseGuardian", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newPauseGuardian", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newPauseGuardian }) => setPauseGuardian(world, from, comptroller, newPauseGuardian.val)),
        new Command_1.Command(`
        #### SetGuardianPaused

        * "Comptroller SetGuardianPaused <Action> <Bool>" - Pauses or unpaused given cToken function
        * E.g. "Comptroller SetGuardianPaused "Transfer" True"
        `, "SetGuardianPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, action, isPaused }) => setGuardianPaused(world, from, comptroller, action.val, isPaused.val)),
        new Command_1.Command(`
        #### SetGuardianMarketPaused

        * "Comptroller SetGuardianMarketPaused <CToken> <Action> <Bool>" - Pauses or unpaused given cToken function
        * E.g. "Comptroller SetGuardianMarketPaused cREP "Mint" True"
        `, "SetGuardianMarketPaused", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("action", CoreValue_1.getStringV),
            new Command_1.Arg("isPaused", CoreValue_1.getBoolV)
        ], (world, from, { comptroller, cToken, action, isPaused }) => setGuardianMarketPaused(world, from, comptroller, cToken, action.val, isPaused.val)),
        new Command_1.Command(`
        #### FastForward

        * "FastForward n:<Number> Blocks" - Moves the block number forward "n" blocks. Note: in "CTokenScenario" and "ComptrollerScenario" the current block number is mocked (starting at 100000). This is the only way for the protocol to see a higher block number (for accruing interest).
          * E.g. "Comptroller FastForward 5 Blocks" - Move block number forward 5 blocks.
      `, "FastForward", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("blocks", CoreValue_1.getNumberV),
            new Command_1.Arg("_keyword", CoreValue_1.getStringV)
        ], (world, from, { comptroller, blocks }) => fastForward(world, from, comptroller, blocks)),
        new Command_1.View(`
        #### Liquidity

        * "Comptroller Liquidity" - Prints liquidity of all minters or borrowers
      `, "Liquidity", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
        ], (world, { comptroller }) => printLiquidity(world, comptroller)),
        new Command_1.View(`
        #### Decode

        * "Decode input:<String>" - Prints information about a call to a Comptroller contract
      `, "Decode", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("input", CoreValue_1.getStringV)
        ], (world, { comptroller, input }) => Contract_1.decodeCall(world, comptroller, input.val)),
        new Command_1.Command(`
      #### Send
      * Comptroller Send functionSignature:<String> callArgs[] - Sends any transaction to comptroller
      * E.g: Comptroller Send "setCompAddress(address)" (Address COMP)
      `, "Send", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("signature", CoreValue_1.getStringV),
            new Command_1.Arg("callArgs", CoreValue_1.getCoreValue, { variadic: true, mapped: true })
        ], (world, from, { comptroller, signature, callArgs }) => sendAny(world, from, comptroller, signature.val, Utils_1.rawValues(callArgs))),
        new Command_1.Command(`
      #### AddCompMarkets

      * "Comptroller AddCompMarkets (<Address> ...)" - Makes a market COMP-enabled
      * E.g. "Comptroller AddCompMarkets (cZRX cBAT)
      `, "AddCompMarkets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true })
        ], (world, from, { comptroller, cTokens }) => addCompMarkets(world, from, comptroller, cTokens)),
        new Command_1.Command(`
      #### DropCompMarket

      * "Comptroller DropCompMarket <Address>" - Makes a market COMP
      * E.g. "Comptroller DropCompMarket cZRX
      `, "DropCompMarket", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV)
        ], (world, from, { comptroller, cToken }) => dropCompMarket(world, from, comptroller, cToken)),
        new Command_1.Command(`
      #### RefreshCompSpeeds

      * "Comptroller RefreshCompSpeeds" - Recalculates all the COMP market speeds
      * E.g. "Comptroller RefreshCompSpeeds
      `, "RefreshCompSpeeds", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true })
        ], (world, from, { comptroller }) => refreshCompSpeeds(world, from, comptroller)),
        new Command_1.Command(`
      #### ClaimComp

      * "Comptroller ClaimComp <holder>" - Claims comp
      * E.g. "Comptroller ClaimComp Geoff
      `, "ClaimComp", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("holder", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, holder }) => claimComp(world, from, comptroller, holder.val)),
        new Command_1.Command(`
      #### ClaimCompInMarkets

      * "Comptroller ClaimComp <holder> (<CToken> ...)" - Claims comp
      * E.g. "Comptroller ClaimCompInMarkets Geoff (cDAI cBAT)
      `, "ClaimCompInMarkets", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("holder", CoreValue_1.getAddressV),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true })
        ], (world, from, { comptroller, holder, cTokens }) => claimCompInMarkets(world, from, comptroller, holder.val, cTokens)),
        new Command_1.Command(`
      #### UpdateContributorRewards

      * "Comptroller UpdateContributorRewards <contributor>" - Updates rewards for a contributor
      * E.g. "Comptroller UpdateContributorRewards Geoff
      `, "UpdateContributorRewards", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("contributor", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, contributor }) => updateContributorRewards(world, from, comptroller, contributor.val)),
        new Command_1.Command(`
      #### GrantComp

      * "Comptroller GrantComp <recipient> <amount>" - Grants COMP to a recipient
      * E.g. "Comptroller GrantComp Geoff 1e18
      `, "GrantComp", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("recipient", CoreValue_1.getAddressV),
            new Command_1.Arg("amount", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, recipient, amount }) => grantComp(world, from, comptroller, recipient.val, amount)),
        new Command_1.Command(`
      #### SetCompRate

      * "Comptroller SetCompRate <rate>" - Sets COMP rate
      * E.g. "Comptroller SetCompRate 1e18
      `, "SetCompRate", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("rate", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, rate }) => setCompRate(world, from, comptroller, rate)),
        new Command_1.Command(`
      #### SetCompSpeed (deprecated)
      * "Comptroller SetCompSpeed <cToken> <rate>" - Sets COMP speed for market
      * E.g. "Comptroller SetCompSpeed cToken 1000
      `, "SetCompSpeed", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cToken", CTokenValue_1.getCTokenV),
            new Command_1.Arg("speed", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, cToken, speed }) => setCompSpeed(world, from, comptroller, cToken, speed)),
        new Command_1.Command(`
      #### SetCompSpeeds
      * "Comptroller SetCompSpeeds (<cToken> ...) (<supplySpeed> ...) (<borrowSpeed> ...)" - Sets COMP speeds for markets
      * E.g. "Comptroller SetCompSpeeds (cZRX cBAT) (1000 0) (1000 2000)
      `, "SetCompSpeeds", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true }),
            new Command_1.Arg("supplySpeeds", CoreValue_1.getNumberV, { mapped: true }),
            new Command_1.Arg("borrowSpeeds", CoreValue_1.getNumberV, { mapped: true })
        ], (world, from, { comptroller, cTokens, supplySpeeds, borrowSpeeds }) => setCompSpeeds(world, from, comptroller, cTokens, supplySpeeds, borrowSpeeds)),
        new Command_1.Command(`
      #### SetContributorCompSpeed
      * "Comptroller SetContributorCompSpeed <contributor> <rate>" - Sets COMP speed for contributor
      * E.g. "Comptroller SetContributorCompSpeed contributor 1000
      `, "SetContributorCompSpeed", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("contributor", CoreValue_1.getAddressV),
            new Command_1.Arg("speed", CoreValue_1.getNumberV)
        ], (world, from, { comptroller, contributor, speed }) => setContributorCompSpeed(world, from, comptroller, contributor.val, speed)),
        new Command_1.Command(`
      #### SetMarketBorrowCaps

      * "Comptroller SetMarketBorrowCaps (<CToken> ...) (<borrowCap> ...)" - Sets Market Borrow Caps
      * E.g "Comptroller SetMarketBorrowCaps (cZRX cUSDC) (10000.0e18, 1000.0e6)
      `, "SetMarketBorrowCaps", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("cTokens", CTokenValue_1.getCTokenV, { mapped: true }),
            new Command_1.Arg("borrowCaps", CoreValue_1.getNumberV, { mapped: true })
        ], (world, from, { comptroller, cTokens, borrowCaps }) => setMarketBorrowCaps(world, from, comptroller, cTokens, borrowCaps)),
        new Command_1.Command(`
        #### SetBorrowCapGuardian

        * "Comptroller SetBorrowCapGuardian newBorrowCapGuardian:<Address>" - Sets the Borrow Cap Guardian for the Comptroller
          * E.g. "Comptroller SetBorrowCapGuardian Geoff"
      `, "SetBorrowCapGuardian", [
            new Command_1.Arg("comptroller", ContractLookup_1.getComptroller, { implicit: true }),
            new Command_1.Arg("newBorrowCapGuardian", CoreValue_1.getAddressV)
        ], (world, from, { comptroller, newBorrowCapGuardian }) => setBorrowCapGuardian(world, from, comptroller, newBorrowCapGuardian.val))
    ];
}
exports.comptrollerCommands = comptrollerCommands;
async function processComptrollerEvent(world, event, from) {
    return await Command_1.processCommandEvent("Comptroller", comptrollerCommands(), world, event, from);
}
exports.processComptrollerEvent = processComptrollerEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcHRyb2xsZXJFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9FdmVudC9Db21wdHJvbGxlckV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9DQUF3RDtBQUN4RCwwQ0FBc0Q7QUFJdEQsOENBQXFDO0FBQ3JDLDRDQVNzQjtBQVF0Qix3Q0FBbUU7QUFDbkUsOEVBQXVFO0FBQ3ZFLG9EQUEwRDtBQUMxRCxzREFBcUU7QUFDckUsZ0VBQXVEO0FBQ3ZELHNEQUFnRDtBQUVoRCxvQ0FBOEM7QUFFOUMsS0FBSyxVQUFVLGNBQWMsQ0FBQyxLQUFZLEVBQUUsSUFBWSxFQUFFLE1BQWE7SUFDckUsSUFBSSxFQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxlQUFlLEVBQUMsR0FBRyxNQUFNLDZDQUFvQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDN0ksS0FBSyxHQUFHLFNBQVMsQ0FBQztJQUVsQixLQUFLLEdBQUcsaUJBQVMsQ0FDZixLQUFLLEVBQ0wsc0JBQXNCLGVBQWUsQ0FBQyxXQUFXLGdCQUFnQixXQUFXLENBQUMsUUFBUSxFQUFFLEVBQ3ZGLGVBQWUsQ0FBQyxVQUFVLENBQzNCLENBQUM7SUFFRixPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFBQSxDQUFDO0FBRUYsS0FBSyxVQUFVLFNBQVMsQ0FBQyxLQUFZLEVBQUUsSUFBWSxFQUFFLFdBQXdCLEVBQUUsVUFBa0IsRUFBRSxRQUFpQjtJQUNsSCxNQUFNLFFBQVEsR0FBRztRQUNmLE1BQU0sRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWM7S0FDM0MsQ0FBQztJQUVGLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDekIsTUFBTSwwQ0FBMEMsVUFBVSxHQUFHLENBQUM7S0FDL0Q7SUFFRCxJQUFJLFVBQVUsR0FBRyxNQUFNLG1CQUFN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LENBQU0sYUFBYSxFQUFFLG1CQUFtQixFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNsRyxDQUFDO0FBRkQsMERBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0V2ZW50fSBmcm9tICcuLi9FdmVudCc7XG5pbXBvcnQge2FkZEFjdGlvbiwgZGVzY3JpYmVVc2VyLCBXb3JsZH0gZnJvbSAnLi4vV29ybGQnO1xuaW1wb3J0IHtkZWNvZGVDYWxsLCBnZXRQYXN0RXZlbnRzfSBmcm9tICcuLi9Db250cmFjdCc7XG5pbXBvcnQge0NvbXB0cm9sbGVyfSBmcm9tICcuLi9Db250cmFjdC9Db21wdHJvbGxlcic7XG5pbXBvcnQge0NvbXB0cm9sbGVySW1wbH0gZnJvbSAnLi4vQ29udHJhY3QvQ29tcHRyb2xsZXJJbXBsJztcbmltcG9ydCB7Q1Rva2VufSBmcm9tICcuLi9Db250cmFjdC9DVG9rZW4nO1xuaW1wb3J0IHtpbnZva2V9IGZyb20gJy4uL0ludm9rYXRpb24nO1xuaW1wb3J0IHtcbiAgZ2V0QWRkcmVzc1YsXG4gIGdldEJvb2xWLFxuICBnZXRFdmVudFYsXG4gIGdldEV4cE51bWJlclYsXG4gIGdldE51bWJlclYsXG4gIGdldFBlcmNlbnRWLFxuICBnZXRTdHJpbmdWLFxuICBnZXRDb3JlVmFsdWVcbn0gZnJvbSAnLi4vQ29yZVZhbHVlJztcbmltcG9ydCB7XG4gIEFkZHJlc3NWLFxuICBCb29sVixcbiAgRXZlbnRWLFxuICBOdW1iZXJWLFxuICBTdHJpbmdWXG59IGZyb20gJy4uL1ZhbHVlJztcbmltcG9ydCB7QXJnLCBDb21tYW5kLCBWaWV3LCBwcm9jZXNzQ29tbWFuZEV2ZW50fSBmcm9tICcuLi9Db21tYW5kJztcbmltcG9ydCB7YnVpbGRDb21wdHJvbGxlckltcGx9IGZyb20gJy4uL0J1aWxkZXIvQ29tcHRyb2xsZXJJbXBsQnVpbGRlcic7XG5pbXBvcnQge0NvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcn0gZnJvbSAnLi4vRXJyb3JSZXBvcnRlcic7XG5pbXBvcnQge2dldENvbXB0cm9sbGVyLCBnZXRDb21wdHJvbGxlckltcGx9IGZyb20gJy4uL0NvbnRyYWN0TG9va3VwJztcbmltcG9ydCB7Z2V0TGlxdWlkaXR5fSBmcm9tICcuLi9WYWx1ZS9Db21wdHJvbGxlclZhbHVlJztcbmltcG9ydCB7Z2V0Q1Rva2VuVn0gZnJvbSAnLi4vVmFsdWUvQ1Rva2VuVmFsdWUnO1xuaW1wb3J0IHtlbmNvZGVkTnVtYmVyfSBmcm9tICcuLi9FbmNvZGluZyc7XG5pbXBvcnQge2VuY29kZUFCSSwgcmF3VmFsdWVzfSBmcm9tIFwiLi4vVXRpbHNcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2VuQ29tcHRyb2xsZXIod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIHBhcmFtczogRXZlbnQpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCB7d29ybGQ6IG5leHRXb3JsZCwgY29tcHRyb2xsZXJJbXBsOiBjb21wdHJvbGxlciwgY29tcHRyb2xsZXJJbXBsRGF0YTogY29tcHRyb2xsZXJEYXRhfSA9IGF3YWl0IGJ1aWxkQ29tcHRyb2xsZXJJbXBsKHdvcmxkLCBmcm9tLCBwYXJhbXMpO1xuICB3b3JsZCA9IG5leHRXb3JsZDtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQWRkZWQgQ29tcHRyb2xsZXIgKCR7Y29tcHRyb2xsZXJEYXRhLmRlc2NyaXB0aW9ufSkgYXQgYWRkcmVzcyAke2NvbXB0cm9sbGVyLl9hZGRyZXNzfWAsXG4gICAgY29tcHRyb2xsZXJEYXRhLmludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBzZXRQYXVzZWQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYWN0aW9uTmFtZTogc3RyaW5nLCBpc1BhdXNlZDogYm9vbGVhbik6IFByb21pc2U8V29ybGQ+IHtcbiAgY29uc3QgcGF1c2VNYXAgPSB7XG4gICAgXCJNaW50XCI6IGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldE1pbnRQYXVzZWRcbiAgfTtcblxuICBpZiAoIXBhdXNlTWFwW2FjdGlvbk5hbWVdKSB7XG4gICAgdGhyb3cgYENhbm5vdCBmaW5kIHBhdXNlIGZ1bmN0aW9uIGZvciBhY3Rpb24gXCIke2FjdGlvbk5hbWV9XCJgO1xuICB9XG5cbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyW2FjdGlvbk5hbWVdKFtpc1BhdXNlZF0pLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wdHJvbGxlcjogc2V0IHBhdXNlZCBmb3IgJHthY3Rpb25OYW1lfSB0byAke2lzUGF1c2VkfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0TWF4QXNzZXRzKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG51bWJlck9mQXNzZXRzOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0TWF4QXNzZXRzKG51bWJlck9mQXNzZXRzLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IG1heCBhc3NldHMgdG8gJHtudW1iZXJPZkFzc2V0cy5zaG93KCl9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRMaXF1aWRhdGlvbkluY2VudGl2ZSh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBsaXF1aWRhdGlvbkluY2VudGl2ZTogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldExpcXVpZGF0aW9uSW5jZW50aXZlKGxpcXVpZGF0aW9uSW5jZW50aXZlLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IGxpcXVpZGF0aW9uIGluY2VudGl2ZSB0byAke2xpcXVpZGF0aW9uSW5jZW50aXZlLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHN1cHBvcnRNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGlmICh3b3JsZC5kcnlSdW4pIHtcbiAgICAvLyBTa2lwIHRoaXMgc3BlY2lmaWNhbGx5IG9uIGRyeSBydW5zIHNpbmNlIGl0J3MgbGlrZWx5IHRvIGNyYXNoIGR1ZSB0byBhIG51bWJlciBvZiByZWFzb25zXG4gICAgd29ybGQucHJpbnRlci5wcmludExpbmUoYERyeSBydW46IFN1cHBvcnRpbmcgbWFya2V0ICBcXGAke2NUb2tlbi5fYWRkcmVzc31cXGBgKTtcbiAgICByZXR1cm4gd29ybGQ7XG4gIH1cblxuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc3VwcG9ydE1hcmtldChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBTdXBwb3J0ZWQgbWFya2V0ICR7Y1Rva2VuLm5hbWV9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1bmxpc3RNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLnVubGlzdChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBVbmxpc3RlZCBtYXJrZXQgJHtjVG9rZW4ubmFtZX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVudGVyTWFya2V0cyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhc3NldHM6IHN0cmluZ1tdKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5lbnRlck1hcmtldHMoYXNzZXRzKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ2FsbGVkIGVudGVyIGFzc2V0cyAke2Fzc2V0c30gYXMgJHtkZXNjcmliZVVzZXIod29ybGQsIGZyb20pfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZXhpdE1hcmtldCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBhc3NldDogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5leGl0TWFya2V0KGFzc2V0KSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ2FsbGVkIGV4aXQgbWFya2V0ICR7YXNzZXR9IGFzICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldFByaWNlT3JhY2xlKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIHByaWNlT3JhY2xlQWRkcjogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0UHJpY2VPcmFjbGUocHJpY2VPcmFjbGVBZGRyKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgU2V0IHByaWNlIG9yYWNsZSBmb3IgdG8gJHtwcmljZU9yYWNsZUFkZHJ9IGFzICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENvbGxhdGVyYWxGYWN0b3Iod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4sIGNvbGxhdGVyYWxGYWN0b3I6IE51bWJlclYpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRDb2xsYXRlcmFsRmFjdG9yKGNUb2tlbi5fYWRkcmVzcywgY29sbGF0ZXJhbEZhY3Rvci5lbmNvZGUoKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYFNldCBjb2xsYXRlcmFsIGZhY3RvciBmb3IgJHtjVG9rZW4ubmFtZX0gdG8gJHtjb2xsYXRlcmFsRmFjdG9yLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENsb3NlRmFjdG9yKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNsb3NlRmFjdG9yOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0Q2xvc2VGYWN0b3IoY2xvc2VGYWN0b3IuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBTZXQgY2xvc2UgZmFjdG9yIHRvICR7Y2xvc2VGYWN0b3Iuc2hvdygpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmFzdEZvcndhcmQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYmxvY2tzOiBOdW1iZXJWKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5mYXN0Rm9yd2FyZChibG9ja3MuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBGYXN0IGZvcndhcmQgJHtibG9ja3Muc2hvdygpfSBibG9ja3MgdG8gIyR7aW52b2thdGlvbi52YWx1ZX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBbnkod29ybGQ6IFdvcmxkLCBmcm9tOnN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBzaWduYXR1cmU6IHN0cmluZywgY2FsbEFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxXb3JsZD4ge1xuICBjb25zdCBmbkRhdGEgPSBlbmNvZGVBQkkod29ybGQsIHNpZ25hdHVyZSwgY2FsbEFyZ3MpO1xuICBhd2FpdCB3b3JsZC53ZWIzLmV0aC5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgdG86IGNvbXB0cm9sbGVyLl9hZGRyZXNzLFxuICAgICAgZGF0YTogZm5EYXRhLFxuICAgICAgZnJvbTogZnJvbVxuICAgIH0pXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWRkQ29tcE1hcmtldHMod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW10pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9hZGRDb21wTWFya2V0cyhjVG9rZW5zLm1hcChjID0+IGMuX2FkZHJlc3MpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQWRkZWQgQ09NUCBtYXJrZXRzICR7Y1Rva2Vucy5tYXAoYyA9PiBjLm5hbWUpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZHJvcENvbXBNYXJrZXQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9kcm9wQ29tcE1hcmtldChjVG9rZW4uX2FkZHJlc3MpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBEcm9wIENPTVAgbWFya2V0ICR7Y1Rva2VuLm5hbWV9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoQ29tcFNwZWVkcyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5yZWZyZXNoQ29tcFNwZWVkcygpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBSZWZyZXNoZWQgQ09NUCBzcGVlZHNgLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsYWltQ29tcCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBob2xkZXI6IHN0cmluZyk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuY2xhaW1Db21wKGhvbGRlciksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXAgY2xhaW1lZCBieSAke2hvbGRlcn1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsYWltQ29tcEluTWFya2V0cyh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBob2xkZXI6IHN0cmluZywgY1Rva2VuczogQ1Rva2VuW10pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLmNsYWltQ29tcChob2xkZXIsIGNUb2tlbnMubWFwKGMgPT4gYy5fYWRkcmVzcykpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wIGNsYWltZWQgYnkgJHtob2xkZXJ9IGluIG1hcmtldHMgJHtjVG9rZW5zLm1hcChjID0+IGMubmFtZSl9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDb250cmlidXRvclJld2FyZHMod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY29udHJpYnV0b3I6IHN0cmluZyk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMudXBkYXRlQ29udHJpYnV0b3JSZXdhcmRzKGNvbnRyaWJ1dG9yKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29udHJpYnV0b3IgcmV3YXJkcyB1cGRhdGVkIGZvciAke2NvbnRyaWJ1dG9yfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ3JhbnRDb21wKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIHJlY2lwaWVudDogc3RyaW5nLCBhbW91bnQ6IE51bWJlclYpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9ncmFudENvbXAocmVjaXBpZW50LCBhbW91bnQuZW5jb2RlKCkpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGAke2Ftb3VudC5zaG93KCl9IGNvbXAgZ3JhbnRlZCB0byAke3JlY2lwaWVudH1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldENvbXBSYXRlKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIHJhdGU6IE51bWJlclYpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRDb21wUmF0ZShyYXRlLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcCByYXRlIHNldCB0byAke3JhdGUuc2hvdygpfWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0Q29tcFNwZWVkKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbjogQ1Rva2VuLCBzcGVlZDogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldENvbXBTcGVlZChjVG9rZW4uX2FkZHJlc3MsIHNwZWVkLmVuY29kZSgpKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcCBzcGVlZCBmb3IgbWFya2V0ICR7Y1Rva2VuLl9hZGRyZXNzfSBzZXQgdG8gJHtzcGVlZC5zaG93KCl9YCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRDb21wU3BlZWRzKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbnM6IENUb2tlbltdLCBzdXBwbHlTcGVlZHM6IE51bWJlclZbXSwgYm9ycm93U3BlZWRzOiBOdW1iZXJWW10pOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRDb21wU3BlZWRzKGNUb2tlbnMubWFwKGMgPT4gYy5fYWRkcmVzcyksIHN1cHBseVNwZWVkcy5tYXAoc3BlZWQgPT4gc3BlZWQuZW5jb2RlKCkpLCBib3Jyb3dTcGVlZHMubWFwKHNwZWVkID0+IHNwZWVkLmVuY29kZSgpKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXAgc3BlZWQgZm9yIG1hcmtldHMgWyR7Y1Rva2Vucy5tYXAoYyA9PiBjLl9hZGRyZXNzKX1dIHNldCB0byBzdXBwbHlTcGVlZHM9WyR7c3VwcGx5U3BlZWRzLm1hcChzcGVlZCA9PiBzcGVlZC5zaG93KCkpfSwgYm9ycm93U3BlZWRzPVske2JvcnJvd1NwZWVkcy5tYXAoc3BlZWQgPT4gc3BlZWQuc2hvdygpKX1dYCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRDb250cmlidXRvckNvbXBTcGVlZCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjb250cmlidXRvcjogc3RyaW5nLCBzcGVlZDogTnVtYmVyVik6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldENvbnRyaWJ1dG9yQ29tcFNwZWVkKGNvbnRyaWJ1dG9yLCBzcGVlZC5lbmNvZGUoKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXAgc3BlZWQgZm9yIGNvbnRyaWJ1dG9yICR7Y29udHJpYnV0b3J9IHNldCB0byAke3NwZWVkLnNob3coKX1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByaW50TGlxdWlkaXR5KHdvcmxkOiBXb3JsZCwgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgZW50ZXJFdmVudHMgPSBhd2FpdCBnZXRQYXN0RXZlbnRzKHdvcmxkLCBjb21wdHJvbGxlciwgJ1N0ZENvbXB0cm9sbGVyJywgJ01hcmtldEVudGVyZWQnKTtcbiAgbGV0IGFkZHJlc3NlcyA9IGVudGVyRXZlbnRzLm1hcCgoZXZlbnQpID0+IGV2ZW50LnJldHVyblZhbHVlc1snYWNjb3VudCddKTtcbiAgbGV0IHVuaXEgPSBbLi4ubmV3IFNldChhZGRyZXNzZXMpXTtcblxuICB3b3JsZC5wcmludGVyLnByaW50TGluZShcIkxpcXVpZGl0eTpcIilcblxuICBjb25zdCBsaXF1aWRpdHlNYXAgPSBhd2FpdCBQcm9taXNlLmFsbCh1bmlxLm1hcChhc3luYyAoYWRkcmVzcykgPT4ge1xuICAgIGxldCB1c2VyTGlxdWlkaXR5ID0gYXdhaXQgZ2V0TGlxdWlkaXR5KHdvcmxkLCBjb21wdHJvbGxlciwgYWRkcmVzcyk7XG5cbiAgICByZXR1cm4gW2FkZHJlc3MsIHVzZXJMaXF1aWRpdHkudmFsXTtcbiAgfSkpO1xuXG4gIGxpcXVpZGl0eU1hcC5mb3JFYWNoKChbYWRkcmVzcywgbGlxdWlkaXR5XSkgPT4ge1xuICAgIHdvcmxkLnByaW50ZXIucHJpbnRMaW5lKGBcXHQke3dvcmxkLnNldHRpbmdzLmxvb2t1cEFsaWFzKGFkZHJlc3MpfTogJHtsaXF1aWRpdHkgLyAxZTE4fWUxOGApXG4gIH0pO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0UGVuZGluZ0FkbWluKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG5ld1BlbmRpbmdBZG1pbjogc3RyaW5nKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0UGVuZGluZ0FkbWluKG5ld1BlbmRpbmdBZG1pbiksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXB0cm9sbGVyOiAke2Rlc2NyaWJlVXNlcih3b3JsZCwgZnJvbSl9IHNldHMgcGVuZGluZyBhZG1pbiB0byAke25ld1BlbmRpbmdBZG1pbn1gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFjY2VwdEFkbWluKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9hY2NlcHRBZG1pbigpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wdHJvbGxlcjogJHtkZXNjcmliZVVzZXIod29ybGQsIGZyb20pfSBhY2NlcHRzIGFkbWluYCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRQYXVzZUd1YXJkaWFuKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG5ld1BhdXNlR3VhcmRpYW46IHN0cmluZyk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldFBhdXNlR3VhcmRpYW4obmV3UGF1c2VHdWFyZGlhbiksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXB0cm9sbGVyOiAke2Rlc2NyaWJlVXNlcih3b3JsZCwgZnJvbSl9IHNldHMgcGF1c2UgZ3VhcmRpYW4gdG8gJHtuZXdQYXVzZUd1YXJkaWFufWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2V0R3VhcmRpYW5QYXVzZWQod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYWN0aW9uOiBzdHJpbmcsIHN0YXRlOiBib29sZWFuKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgZnVuO1xuICBzd2l0Y2goYWN0aW9uKXtcbiAgICBjYXNlIFwiVHJhbnNmZXJcIjpcbiAgICAgIGZ1biA9IGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldFRyYW5zZmVyUGF1c2VkXG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiU2VpemVcIjpcbiAgICAgIGZ1biA9IGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldFNlaXplUGF1c2VkXG4gICAgICBicmVhaztcbiAgfVxuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgZnVuKHN0YXRlKSwgZnJvbSwgQ29tcHRyb2xsZXJFcnJvclJlcG9ydGVyKTtcblxuICB3b3JsZCA9IGFkZEFjdGlvbihcbiAgICB3b3JsZCxcbiAgICBgQ29tcHRyb2xsZXI6ICR7ZGVzY3JpYmVVc2VyKHdvcmxkLCBmcm9tKX0gc2V0cyAke2FjdGlvbn0gcGF1c2VkYCxcbiAgICBpbnZva2F0aW9uXG4gICk7XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRHdWFyZGlhbk1hcmtldFBhdXNlZCh3b3JsZDogV29ybGQsIGZyb206IHN0cmluZywgY29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbiwgYWN0aW9uOiBzdHJpbmcsIHN0YXRlOiBib29sZWFuKTogUHJvbWlzZTxXb3JsZD4ge1xuICBsZXQgZnVuO1xuICBzd2l0Y2goYWN0aW9uKXtcbiAgICBjYXNlIFwiTWludFwiOlxuICAgICAgZnVuID0gY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0TWludFBhdXNlZFxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkJvcnJvd1wiOlxuICAgICAgZnVuID0gY29tcHRyb2xsZXIubWV0aG9kcy5fc2V0Qm9ycm93UGF1c2VkXG4gICAgICBicmVhaztcbiAgfVxuICBsZXQgaW52b2thdGlvbiA9IGF3YWl0IGludm9rZSh3b3JsZCwgZnVuKGNUb2tlbi5fYWRkcmVzcywgc3RhdGUpLCBmcm9tLCBDb21wdHJvbGxlckVycm9yUmVwb3J0ZXIpO1xuXG4gIHdvcmxkID0gYWRkQWN0aW9uKFxuICAgIHdvcmxkLFxuICAgIGBDb21wdHJvbGxlcjogJHtkZXNjcmliZVVzZXIod29ybGQsIGZyb20pfSBzZXRzICR7YWN0aW9ufSBwYXVzZWRgLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldE1hcmtldEJvcnJvd0NhcHMod29ybGQ6IFdvcmxkLCBmcm9tOiBzdHJpbmcsIGNvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW10sIGJvcnJvd0NhcHM6IE51bWJlclZbXSk6IFByb21pc2U8V29ybGQ+IHtcbiAgbGV0IGludm9rYXRpb24gPSBhd2FpdCBpbnZva2Uod29ybGQsIGNvbXB0cm9sbGVyLm1ldGhvZHMuX3NldE1hcmtldEJvcnJvd0NhcHMoY1Rva2Vucy5tYXAoYyA9PiBjLl9hZGRyZXNzKSwgYm9ycm93Q2Fwcy5tYXAoYyA9PiBjLmVuY29kZSgpKSksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYEJvcnJvdyBjYXBzIG9uICR7Y1Rva2Vuc30gc2V0IHRvICR7Ym9ycm93Q2Fwc31gLFxuICAgIGludm9rYXRpb25cbiAgKTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldEJvcnJvd0NhcEd1YXJkaWFuKHdvcmxkOiBXb3JsZCwgZnJvbTogc3RyaW5nLCBjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG5ld0JvcnJvd0NhcEd1YXJkaWFuOiBzdHJpbmcpOiBQcm9taXNlPFdvcmxkPiB7XG4gIGxldCBpbnZva2F0aW9uID0gYXdhaXQgaW52b2tlKHdvcmxkLCBjb21wdHJvbGxlci5tZXRob2RzLl9zZXRCb3Jyb3dDYXBHdWFyZGlhbihuZXdCb3Jyb3dDYXBHdWFyZGlhbiksIGZyb20sIENvbXB0cm9sbGVyRXJyb3JSZXBvcnRlcik7XG5cbiAgd29ybGQgPSBhZGRBY3Rpb24oXG4gICAgd29ybGQsXG4gICAgYENvbXB0cm9sbGVyOiAke2Rlc2NyaWJlVXNlcih3b3JsZCwgZnJvbSl9IHNldHMgYm9ycm93IGNhcCBndWFyZGlhbiB0byAke25ld0JvcnJvd0NhcEd1YXJkaWFufWAsXG4gICAgaW52b2thdGlvblxuICApO1xuXG4gIHJldHVybiB3b3JsZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB0cm9sbGVyQ29tbWFuZHMoKSB7XG4gIHJldHVybiBbXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyUGFyYW1zOiBFdmVudFZ9PihgXG4gICAgICAgICMjIyMgRGVwbG95XG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIERlcGxveSAuLi5jb21wdHJvbGxlclBhcmFtc1wiIC0gR2VuZXJhdGVzIGEgbmV3IENvbXB0cm9sbGVyIChub3QgYXMgSW1wbClcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBEZXBsb3kgWWVzTm9cIlxuICAgICAgYCxcbiAgICAgIFwiRGVwbG95XCIsXG4gICAgICBbbmV3IEFyZyhcImNvbXB0cm9sbGVyUGFyYW1zXCIsIGdldEV2ZW50Viwge3ZhcmlhZGljOiB0cnVlfSldLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXJQYXJhbXN9KSA9PiBnZW5Db21wdHJvbGxlcih3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXJQYXJhbXMudmFsKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYWN0aW9uOiBTdHJpbmdWLCBpc1BhdXNlZDogQm9vbFZ9PihgXG4gICAgICAgICMjIyMgU2V0UGF1c2VkXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldFBhdXNlZCA8QWN0aW9uPiA8Qm9vbD5cIiAtIFBhdXNlcyBvciB1bnBhdXNlZCBnaXZlbiBjVG9rZW4gZnVuY3Rpb25cbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRQYXVzZWQgXCJNaW50XCIgVHJ1ZVwiXG4gICAgICBgLFxuICAgICAgXCJTZXRQYXVzZWRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImFjdGlvblwiLCBnZXRTdHJpbmdWKSxcbiAgICAgICAgbmV3IEFyZyhcImlzUGF1c2VkXCIsIGdldEJvb2xWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBhY3Rpb24sIGlzUGF1c2VkfSkgPT4gc2V0UGF1c2VkKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgYWN0aW9uLnZhbCwgaXNQYXVzZWQudmFsKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW59PihgXG4gICAgICAgICMjIyMgU3VwcG9ydE1hcmtldFxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTdXBwb3J0TWFya2V0IDxDVG9rZW4+XCIgLSBBZGRzIHN1cHBvcnQgaW4gdGhlIENvbXB0cm9sbGVyIGZvciB0aGUgZ2l2ZW4gY1Rva2VuXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU3VwcG9ydE1hcmtldCBjWlJYXCJcbiAgICAgIGAsXG4gICAgICBcIlN1cHBvcnRNYXJrZXRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlblwiLCBnZXRDVG9rZW5WKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW59KSA9PiBzdXBwb3J0TWFya2V0KHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW59PihgXG4gICAgICAgICMjIyMgVW5MaXN0XG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFVuTGlzdCA8Q1Rva2VuPlwiIC0gTW9jayB1bmxpc3RzIGEgZ2l2ZW4gbWFya2V0IGluIHRlc3RzXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgVW5MaXN0IGNaUlhcIlxuICAgICAgYCxcbiAgICAgIFwiVW5MaXN0XCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5cIiwgZ2V0Q1Rva2VuVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgY1Rva2VufSkgPT4gdW5saXN0TWFya2V0KHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW119PihgXG4gICAgICAgICMjIyMgRW50ZXJNYXJrZXRzXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIEVudGVyTWFya2V0cyAoPENUb2tlbj4gLi4uKVwiIC0gVXNlciBlbnRlcnMgdGhlIGdpdmVuIG1hcmtldHNcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBFbnRlck1hcmtldHMgKGNaUlggY0VUSClcIlxuICAgICAgYCxcbiAgICAgIFwiRW50ZXJNYXJrZXRzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5zXCIsIGdldENUb2tlblYsIHttYXBwZWQ6IHRydWV9KVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW5zfSkgPT4gZW50ZXJNYXJrZXRzKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2Vucy5tYXAoKGMpID0+IGMuX2FkZHJlc3MpKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW59PihgXG4gICAgICAgICMjIyMgRXhpdE1hcmtldFxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBFeGl0TWFya2V0IDxDVG9rZW4+XCIgLSBVc2VyIGV4aXRzIHRoZSBnaXZlbiBtYXJrZXRzXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgRXhpdE1hcmtldCBjWlJYXCJcbiAgICAgIGAsXG4gICAgICBcIkV4aXRNYXJrZXRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlblwiLCBnZXRDVG9rZW5WKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW59KSA9PiBleGl0TWFya2V0KHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuLl9hZGRyZXNzKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbWF4QXNzZXRzOiBOdW1iZXJWfT4oYFxuICAgICAgICAjIyMjIFNldE1heEFzc2V0c1xuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRNYXhBc3NldHMgPE51bWJlcj5cIiAtIFNldHMgKG9yIHJlc2V0cykgdGhlIG1heCBhbGxvd2VkIGFzc2V0IGNvdW50XG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0TWF4QXNzZXRzIDRcIlxuICAgICAgYCxcbiAgICAgIFwiU2V0TWF4QXNzZXRzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJtYXhBc3NldHNcIiwgZ2V0TnVtYmVyVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgbWF4QXNzZXRzfSkgPT4gc2V0TWF4QXNzZXRzKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgbWF4QXNzZXRzKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbGlxdWlkYXRpb25JbmNlbnRpdmU6IE51bWJlclZ9PihgXG4gICAgICAgICMjIyMgTGlxdWlkYXRpb25JbmNlbnRpdmVcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgTGlxdWlkYXRpb25JbmNlbnRpdmUgPE51bWJlcj5cIiAtIFNldHMgdGhlIGxpcXVpZGF0aW9uIGluY2VudGl2ZVxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIExpcXVpZGF0aW9uSW5jZW50aXZlIDEuMVwiXG4gICAgICBgLFxuICAgICAgXCJMaXF1aWRhdGlvbkluY2VudGl2ZVwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwibGlxdWlkYXRpb25JbmNlbnRpdmVcIiwgZ2V0RXhwTnVtYmVyVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgbGlxdWlkYXRpb25JbmNlbnRpdmV9KSA9PiBzZXRMaXF1aWRhdGlvbkluY2VudGl2ZSh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGxpcXVpZGF0aW9uSW5jZW50aXZlKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgcHJpY2VPcmFjbGU6IEFkZHJlc3NWfT4oYFxuICAgICAgICAjIyMjIFNldFByaWNlT3JhY2xlXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldFByaWNlT3JhY2xlIG9yYWNsZTo8QWRkcmVzcz5cIiAtIFNldHMgdGhlIHByaWNlIG9yYWNsZSBhZGRyZXNzXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0UHJpY2VPcmFjbGUgMHguLi5cIlxuICAgICAgYCxcbiAgICAgIFwiU2V0UHJpY2VPcmFjbGVcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcInByaWNlT3JhY2xlXCIsIGdldEFkZHJlc3NWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBwcmljZU9yYWNsZX0pID0+IHNldFByaWNlT3JhY2xlKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgcHJpY2VPcmFjbGUudmFsKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuOiBDVG9rZW4sIGNvbGxhdGVyYWxGYWN0b3I6IE51bWJlclZ9PihgXG4gICAgICAgICMjIyMgU2V0Q29sbGF0ZXJhbEZhY3RvclxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRDb2xsYXRlcmFsRmFjdG9yIDxDVG9rZW4+IDxOdW1iZXI+XCIgLSBTZXRzIHRoZSBjb2xsYXRlcmFsIGZhY3RvciBmb3IgZ2l2ZW4gY1Rva2VuIHRvIG51bWJlclxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldENvbGxhdGVyYWxGYWN0b3IgY1pSWCAwLjFcIlxuICAgICAgYCxcbiAgICAgIFwiU2V0Q29sbGF0ZXJhbEZhY3RvclwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiY1Rva2VuXCIsIGdldENUb2tlblYpLFxuICAgICAgICBuZXcgQXJnKFwiY29sbGF0ZXJhbEZhY3RvclwiLCBnZXRFeHBOdW1iZXJWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW4sIGNvbGxhdGVyYWxGYWN0b3J9KSA9PiBzZXRDb2xsYXRlcmFsRmFjdG9yKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuLCBjb2xsYXRlcmFsRmFjdG9yKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY2xvc2VGYWN0b3I6IE51bWJlclZ9PihgXG4gICAgICAgICMjIyMgU2V0Q2xvc2VGYWN0b3JcblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0Q2xvc2VGYWN0b3IgPE51bWJlcj5cIiAtIFNldHMgdGhlIGNsb3NlIGZhY3RvciB0byBnaXZlbiBwZXJjZW50YWdlXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0Q2xvc2VGYWN0b3IgMC4yXCJcbiAgICAgIGAsXG4gICAgICBcIlNldENsb3NlRmFjdG9yXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjbG9zZUZhY3RvclwiLCBnZXRQZXJjZW50VilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgY2xvc2VGYWN0b3J9KSA9PiBzZXRDbG9zZUZhY3Rvcih3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNsb3NlRmFjdG9yKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbmV3UGVuZGluZ0FkbWluOiBBZGRyZXNzVn0+KGBcbiAgICAgICAgIyMjIyBTZXRQZW5kaW5nQWRtaW5cblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgU2V0UGVuZGluZ0FkbWluIG5ld1BlbmRpbmdBZG1pbjo8QWRkcmVzcz5cIiAtIFNldHMgdGhlIHBlbmRpbmcgYWRtaW4gZm9yIHRoZSBDb21wdHJvbGxlclxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldFBlbmRpbmdBZG1pbiBHZW9mZlwiXG4gICAgICBgLFxuICAgICAgXCJTZXRQZW5kaW5nQWRtaW5cIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcIm5ld1BlbmRpbmdBZG1pblwiLCBnZXRBZGRyZXNzVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgbmV3UGVuZGluZ0FkbWlufSkgPT4gc2V0UGVuZGluZ0FkbWluKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgbmV3UGVuZGluZ0FkbWluLnZhbClcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXJ9PihgXG4gICAgICAgICMjIyMgQWNjZXB0QWRtaW5cblxuICAgICAgICAqIFwiQ29tcHRyb2xsZXIgQWNjZXB0QWRtaW5cIiAtIEFjY2VwdHMgYWRtaW4gZm9yIHRoZSBDb21wdHJvbGxlclxuICAgICAgICAgICogRS5nLiBcIkZyb20gR2VvZmYgKENvbXB0cm9sbGVyIEFjY2VwdEFkbWluKVwiXG4gICAgICBgLFxuICAgICAgXCJBY2NlcHRBZG1pblwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyfSkgPT4gYWNjZXB0QWRtaW4od29ybGQsIGZyb20sIGNvbXB0cm9sbGVyKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgbmV3UGF1c2VHdWFyZGlhbjogQWRkcmVzc1Z9PihgXG4gICAgICAgICMjIyMgU2V0UGF1c2VHdWFyZGlhblxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRQYXVzZUd1YXJkaWFuIG5ld1BhdXNlR3VhcmRpYW46PEFkZHJlc3M+XCIgLSBTZXRzIHRoZSBQYXVzZUd1YXJkaWFuIGZvciB0aGUgQ29tcHRyb2xsZXJcbiAgICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRQYXVzZUd1YXJkaWFuIEdlb2ZmXCJcbiAgICAgIGAsXG4gICAgICBcIlNldFBhdXNlR3VhcmRpYW5cIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcIm5ld1BhdXNlR3VhcmRpYW5cIiwgZ2V0QWRkcmVzc1YpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIG5ld1BhdXNlR3VhcmRpYW59KSA9PiBzZXRQYXVzZUd1YXJkaWFuKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgbmV3UGF1c2VHdWFyZGlhbi52YWwpXG4gICAgKSxcblxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGFjdGlvbjogU3RyaW5nViwgaXNQYXVzZWQ6IEJvb2xWfT4oYFxuICAgICAgICAjIyMjIFNldEd1YXJkaWFuUGF1c2VkXG5cbiAgICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldEd1YXJkaWFuUGF1c2VkIDxBY3Rpb24+IDxCb29sPlwiIC0gUGF1c2VzIG9yIHVucGF1c2VkIGdpdmVuIGNUb2tlbiBmdW5jdGlvblxuICAgICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRHdWFyZGlhblBhdXNlZCBcIlRyYW5zZmVyXCIgVHJ1ZVwiXG4gICAgICAgIGAsXG4gICAgICAgIFwiU2V0R3VhcmRpYW5QYXVzZWRcIixcbiAgICAgICAgW1xuICAgICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgICAgbmV3IEFyZyhcImFjdGlvblwiLCBnZXRTdHJpbmdWKSxcbiAgICAgICAgICBuZXcgQXJnKFwiaXNQYXVzZWRcIiwgZ2V0Qm9vbFYpXG4gICAgICAgIF0sXG4gICAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBhY3Rpb24sIGlzUGF1c2VkfSkgPT4gc2V0R3VhcmRpYW5QYXVzZWQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBhY3Rpb24udmFsLCBpc1BhdXNlZC52YWwpXG4gICAgKSxcblxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbjogQ1Rva2VuLCBhY3Rpb246IFN0cmluZ1YsIGlzUGF1c2VkOiBCb29sVn0+KGBcbiAgICAgICAgIyMjIyBTZXRHdWFyZGlhbk1hcmtldFBhdXNlZFxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRHdWFyZGlhbk1hcmtldFBhdXNlZCA8Q1Rva2VuPiA8QWN0aW9uPiA8Qm9vbD5cIiAtIFBhdXNlcyBvciB1bnBhdXNlZCBnaXZlbiBjVG9rZW4gZnVuY3Rpb25cbiAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0R3VhcmRpYW5NYXJrZXRQYXVzZWQgY1JFUCBcIk1pbnRcIiBUcnVlXCJcbiAgICAgICAgYCxcbiAgICAgICAgXCJTZXRHdWFyZGlhbk1hcmtldFBhdXNlZFwiLFxuICAgICAgICBbXG4gICAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgICBuZXcgQXJnKFwiY1Rva2VuXCIsIGdldENUb2tlblYpLFxuICAgICAgICAgIG5ldyBBcmcoXCJhY3Rpb25cIiwgZ2V0U3RyaW5nViksXG4gICAgICAgICAgbmV3IEFyZyhcImlzUGF1c2VkXCIsIGdldEJvb2xWKVxuICAgICAgICBdLFxuICAgICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgY1Rva2VuLCBhY3Rpb24sIGlzUGF1c2VkfSkgPT4gc2V0R3VhcmRpYW5NYXJrZXRQYXVzZWQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4sIGFjdGlvbi52YWwsIGlzUGF1c2VkLnZhbClcbiAgICApLFxuXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgYmxvY2tzOiBOdW1iZXJWLCBfa2V5d29yZDogU3RyaW5nVn0+KGBcbiAgICAgICAgIyMjIyBGYXN0Rm9yd2FyZFxuXG4gICAgICAgICogXCJGYXN0Rm9yd2FyZCBuOjxOdW1iZXI+IEJsb2Nrc1wiIC0gTW92ZXMgdGhlIGJsb2NrIG51bWJlciBmb3J3YXJkIFwiblwiIGJsb2Nrcy4gTm90ZTogaW4gXCJDVG9rZW5TY2VuYXJpb1wiIGFuZCBcIkNvbXB0cm9sbGVyU2NlbmFyaW9cIiB0aGUgY3VycmVudCBibG9jayBudW1iZXIgaXMgbW9ja2VkIChzdGFydGluZyBhdCAxMDAwMDApLiBUaGlzIGlzIHRoZSBvbmx5IHdheSBmb3IgdGhlIHByb3RvY29sIHRvIHNlZSBhIGhpZ2hlciBibG9jayBudW1iZXIgKGZvciBhY2NydWluZyBpbnRlcmVzdCkuXG4gICAgICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgRmFzdEZvcndhcmQgNSBCbG9ja3NcIiAtIE1vdmUgYmxvY2sgbnVtYmVyIGZvcndhcmQgNSBibG9ja3MuXG4gICAgICBgLFxuICAgICAgXCJGYXN0Rm9yd2FyZFwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiYmxvY2tzXCIsIGdldE51bWJlclYpLFxuICAgICAgICBuZXcgQXJnKFwiX2tleXdvcmRcIiwgZ2V0U3RyaW5nVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgYmxvY2tzfSkgPT4gZmFzdEZvcndhcmQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBibG9ja3MpXG4gICAgKSxcbiAgICBuZXcgVmlldzx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyfT4oYFxuICAgICAgICAjIyMjIExpcXVpZGl0eVxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBMaXF1aWRpdHlcIiAtIFByaW50cyBsaXF1aWRpdHkgb2YgYWxsIG1pbnRlcnMgb3IgYm9ycm93ZXJzXG4gICAgICBgLFxuICAgICAgXCJMaXF1aWRpdHlcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgIF0sXG4gICAgICAod29ybGQsIHtjb21wdHJvbGxlcn0pID0+IHByaW50TGlxdWlkaXR5KHdvcmxkLCBjb21wdHJvbGxlcilcbiAgICApLFxuICAgIG5ldyBWaWV3PHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGlucHV0OiBTdHJpbmdWfT4oYFxuICAgICAgICAjIyMjIERlY29kZVxuXG4gICAgICAgICogXCJEZWNvZGUgaW5wdXQ6PFN0cmluZz5cIiAtIFByaW50cyBpbmZvcm1hdGlvbiBhYm91dCBhIGNhbGwgdG8gYSBDb21wdHJvbGxlciBjb250cmFjdFxuICAgICAgYCxcbiAgICAgIFwiRGVjb2RlXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJpbnB1dFwiLCBnZXRTdHJpbmdWKVxuXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCB7Y29tcHRyb2xsZXIsIGlucHV0fSkgPT4gZGVjb2RlQ2FsbCh3b3JsZCwgY29tcHRyb2xsZXIsIGlucHV0LnZhbClcbiAgICApLFxuXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgc2lnbmF0dXJlOiBTdHJpbmdWLCBjYWxsQXJnczogU3RyaW5nVltdfT4oYFxuICAgICAgIyMjIyBTZW5kXG4gICAgICAqIENvbXB0cm9sbGVyIFNlbmQgZnVuY3Rpb25TaWduYXR1cmU6PFN0cmluZz4gY2FsbEFyZ3NbXSAtIFNlbmRzIGFueSB0cmFuc2FjdGlvbiB0byBjb21wdHJvbGxlclxuICAgICAgKiBFLmc6IENvbXB0cm9sbGVyIFNlbmQgXCJzZXRDb21wQWRkcmVzcyhhZGRyZXNzKVwiIChBZGRyZXNzIENPTVApXG4gICAgICBgLFxuICAgICAgXCJTZW5kXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJzaWduYXR1cmVcIiwgZ2V0U3RyaW5nViksXG4gICAgICAgIG5ldyBBcmcoXCJjYWxsQXJnc1wiLCBnZXRDb3JlVmFsdWUsIHt2YXJpYWRpYzogdHJ1ZSwgbWFwcGVkOiB0cnVlfSlcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgc2lnbmF0dXJlLCBjYWxsQXJnc30pID0+IHNlbmRBbnkod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBzaWduYXR1cmUudmFsLCByYXdWYWx1ZXMoY2FsbEFyZ3MpKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW119PihgXG4gICAgICAjIyMjIEFkZENvbXBNYXJrZXRzXG5cbiAgICAgICogXCJDb21wdHJvbGxlciBBZGRDb21wTWFya2V0cyAoPEFkZHJlc3M+IC4uLilcIiAtIE1ha2VzIGEgbWFya2V0IENPTVAtZW5hYmxlZFxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgQWRkQ29tcE1hcmtldHMgKGNaUlggY0JBVClcbiAgICAgIGAsXG4gICAgICBcIkFkZENvbXBNYXJrZXRzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5zXCIsIGdldENUb2tlblYsIHttYXBwZWQ6IHRydWV9KVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjVG9rZW5zfSkgPT4gYWRkQ29tcE1hcmtldHMod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW5zKVxuICAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbjogQ1Rva2VufT4oYFxuICAgICAgIyMjIyBEcm9wQ29tcE1hcmtldFxuXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgRHJvcENvbXBNYXJrZXQgPEFkZHJlc3M+XCIgLSBNYWtlcyBhIG1hcmtldCBDT01QXG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBEcm9wQ29tcE1hcmtldCBjWlJYXG4gICAgICBgLFxuICAgICAgXCJEcm9wQ29tcE1hcmtldFwiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiY1Rva2VuXCIsIGdldENUb2tlblYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbn0pID0+IGRyb3BDb21wTWFya2V0KHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VuKVxuICAgICApLFxuXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlcn0+KGBcbiAgICAgICMjIyMgUmVmcmVzaENvbXBTcGVlZHNcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIFJlZnJlc2hDb21wU3BlZWRzXCIgLSBSZWNhbGN1bGF0ZXMgYWxsIHRoZSBDT01QIG1hcmtldCBzcGVlZHNcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFJlZnJlc2hDb21wU3BlZWRzXG4gICAgICBgLFxuICAgICAgXCJSZWZyZXNoQ29tcFNwZWVkc1wiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXJ9KSA9PiByZWZyZXNoQ29tcFNwZWVkcyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBob2xkZXI6IEFkZHJlc3NWfT4oYFxuICAgICAgIyMjIyBDbGFpbUNvbXBcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIENsYWltQ29tcCA8aG9sZGVyPlwiIC0gQ2xhaW1zIGNvbXBcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIENsYWltQ29tcCBHZW9mZlxuICAgICAgYCxcbiAgICAgIFwiQ2xhaW1Db21wXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJob2xkZXJcIiwgZ2V0QWRkcmVzc1YpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGhvbGRlcn0pID0+IGNsYWltQ29tcCh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGhvbGRlci52YWwpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBob2xkZXI6IEFkZHJlc3NWLCBjVG9rZW5zOiBDVG9rZW5bXX0+KGBcbiAgICAgICMjIyMgQ2xhaW1Db21wSW5NYXJrZXRzXG5cbiAgICAgICogXCJDb21wdHJvbGxlciBDbGFpbUNvbXAgPGhvbGRlcj4gKDxDVG9rZW4+IC4uLilcIiAtIENsYWltcyBjb21wXG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBDbGFpbUNvbXBJbk1hcmtldHMgR2VvZmYgKGNEQUkgY0JBVClcbiAgICAgIGAsXG4gICAgICBcIkNsYWltQ29tcEluTWFya2V0c1wiLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKFwiY29tcHRyb2xsZXJcIiwgZ2V0Q29tcHRyb2xsZXIsIHtpbXBsaWNpdDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiaG9sZGVyXCIsIGdldEFkZHJlc3NWKSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlbnNcIiwgZ2V0Q1Rva2VuViwge21hcHBlZDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGhvbGRlciwgY1Rva2Vuc30pID0+IGNsYWltQ29tcEluTWFya2V0cyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGhvbGRlci52YWwsIGNUb2tlbnMpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjb250cmlidXRvcjogQWRkcmVzc1Z9PihgXG4gICAgICAjIyMjIFVwZGF0ZUNvbnRyaWJ1dG9yUmV3YXJkc1xuXG4gICAgICAqIFwiQ29tcHRyb2xsZXIgVXBkYXRlQ29udHJpYnV0b3JSZXdhcmRzIDxjb250cmlidXRvcj5cIiAtIFVwZGF0ZXMgcmV3YXJkcyBmb3IgYSBjb250cmlidXRvclxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgVXBkYXRlQ29udHJpYnV0b3JSZXdhcmRzIEdlb2ZmXG4gICAgICBgLFxuICAgICAgXCJVcGRhdGVDb250cmlidXRvclJld2FyZHNcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNvbnRyaWJ1dG9yXCIsIGdldEFkZHJlc3NWKVxuICAgICAgXSxcbiAgICAgICh3b3JsZCwgZnJvbSwge2NvbXB0cm9sbGVyLCBjb250cmlidXRvcn0pID0+IHVwZGF0ZUNvbnRyaWJ1dG9yUmV3YXJkcyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yLnZhbClcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIHJlY2lwaWVudDogQWRkcmVzc1YsIGFtb3VudDogTnVtYmVyVn0+KGBcbiAgICAgICMjIyMgR3JhbnRDb21wXG5cbiAgICAgICogXCJDb21wdHJvbGxlciBHcmFudENvbXAgPHJlY2lwaWVudD4gPGFtb3VudD5cIiAtIEdyYW50cyBDT01QIHRvIGEgcmVjaXBpZW50XG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBHcmFudENvbXAgR2VvZmYgMWUxOFxuICAgICAgYCxcbiAgICAgIFwiR3JhbnRDb21wXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJyZWNpcGllbnRcIiwgZ2V0QWRkcmVzc1YpLFxuICAgICAgICBuZXcgQXJnKFwiYW1vdW50XCIsIGdldE51bWJlclYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIHJlY2lwaWVudCwgYW1vdW50fSkgPT4gZ3JhbnRDb21wKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgcmVjaXBpZW50LnZhbCwgYW1vdW50KVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgcmF0ZTogTnVtYmVyVn0+KGBcbiAgICAgICMjIyMgU2V0Q29tcFJhdGVcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldENvbXBSYXRlIDxyYXRlPlwiIC0gU2V0cyBDT01QIHJhdGVcbiAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldENvbXBSYXRlIDFlMThcbiAgICAgIGAsXG4gICAgICBcIlNldENvbXBSYXRlXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJyYXRlXCIsIGdldE51bWJlclYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIHJhdGV9KSA9PiBzZXRDb21wUmF0ZSh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIHJhdGUpXG4gICAgKSxcbiAgICBuZXcgQ29tbWFuZDx7Y29tcHRyb2xsZXI6IENvbXB0cm9sbGVyLCBjVG9rZW46IENUb2tlbiwgc3BlZWQ6IE51bWJlclZ9PihgXG4gICAgICAjIyMjIFNldENvbXBTcGVlZCAoZGVwcmVjYXRlZClcbiAgICAgICogXCJDb21wdHJvbGxlciBTZXRDb21wU3BlZWQgPGNUb2tlbj4gPHJhdGU+XCIgLSBTZXRzIENPTVAgc3BlZWQgZm9yIG1hcmtldFxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0Q29tcFNwZWVkIGNUb2tlbiAxMDAwXG4gICAgICBgLFxuICAgICAgXCJTZXRDb21wU3BlZWRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlblwiLCBnZXRDVG9rZW5WKSxcbiAgICAgICAgbmV3IEFyZyhcInNwZWVkXCIsIGdldE51bWJlclYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbiwgc3BlZWR9KSA9PiBzZXRDb21wU3BlZWQod29ybGQsIGZyb20sIGNvbXB0cm9sbGVyLCBjVG9rZW4sIHNwZWVkKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY1Rva2VuczogQ1Rva2VuW10sIHN1cHBseVNwZWVkczogTnVtYmVyVltdLCBib3Jyb3dTcGVlZHM6IE51bWJlclZbXX0+KGBcbiAgICAgICMjIyMgU2V0Q29tcFNwZWVkc1xuICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldENvbXBTcGVlZHMgKDxjVG9rZW4+IC4uLikgKDxzdXBwbHlTcGVlZD4gLi4uKSAoPGJvcnJvd1NwZWVkPiAuLi4pXCIgLSBTZXRzIENPTVAgc3BlZWRzIGZvciBtYXJrZXRzXG4gICAgICAqIEUuZy4gXCJDb21wdHJvbGxlciBTZXRDb21wU3BlZWRzIChjWlJYIGNCQVQpICgxMDAwIDApICgxMDAwIDIwMDApXG4gICAgICBgLFxuICAgICAgXCJTZXRDb21wU3BlZWRzXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJjVG9rZW5zXCIsIGdldENUb2tlblYsIHttYXBwZWQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcInN1cHBseVNwZWVkc1wiLCBnZXROdW1iZXJWLCB7bWFwcGVkOiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJib3Jyb3dTcGVlZHNcIiwgZ2V0TnVtYmVyViwge21hcHBlZDogdHJ1ZX0pXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNUb2tlbnMsIHN1cHBseVNwZWVkcywgYm9ycm93U3BlZWRzfSkgPT4gc2V0Q29tcFNwZWVkcyh3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIGNUb2tlbnMsIHN1cHBseVNwZWVkcywgYm9ycm93U3BlZWRzKVxuICAgICksXG4gICAgbmV3IENvbW1hbmQ8e2NvbXB0cm9sbGVyOiBDb21wdHJvbGxlciwgY29udHJpYnV0b3I6IEFkZHJlc3NWLCBzcGVlZDogTnVtYmVyVn0+KGBcbiAgICAgICMjIyMgU2V0Q29udHJpYnV0b3JDb21wU3BlZWRcbiAgICAgICogXCJDb21wdHJvbGxlciBTZXRDb250cmlidXRvckNvbXBTcGVlZCA8Y29udHJpYnV0b3I+IDxyYXRlPlwiIC0gU2V0cyBDT01QIHNwZWVkIGZvciBjb250cmlidXRvclxuICAgICAgKiBFLmcuIFwiQ29tcHRyb2xsZXIgU2V0Q29udHJpYnV0b3JDb21wU3BlZWQgY29udHJpYnV0b3IgMTAwMFxuICAgICAgYCxcbiAgICAgIFwiU2V0Q29udHJpYnV0b3JDb21wU3BlZWRcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNvbnRyaWJ1dG9yXCIsIGdldEFkZHJlc3NWKSxcbiAgICAgICAgbmV3IEFyZyhcInNwZWVkXCIsIGdldE51bWJlclYpXG4gICAgICBdLFxuICAgICAgKHdvcmxkLCBmcm9tLCB7Y29tcHRyb2xsZXIsIGNvbnRyaWJ1dG9yLCBzcGVlZH0pID0+IHNldENvbnRyaWJ1dG9yQ29tcFNwZWVkKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY29udHJpYnV0b3IudmFsLCBzcGVlZClcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIGNUb2tlbnM6IENUb2tlbltdLCBib3Jyb3dDYXBzOiBOdW1iZXJWW119PihgXG4gICAgICAjIyMjIFNldE1hcmtldEJvcnJvd0NhcHNcblxuICAgICAgKiBcIkNvbXB0cm9sbGVyIFNldE1hcmtldEJvcnJvd0NhcHMgKDxDVG9rZW4+IC4uLikgKDxib3Jyb3dDYXA+IC4uLilcIiAtIFNldHMgTWFya2V0IEJvcnJvdyBDYXBzXG4gICAgICAqIEUuZyBcIkNvbXB0cm9sbGVyIFNldE1hcmtldEJvcnJvd0NhcHMgKGNaUlggY1VTREMpICgxMDAwMC4wZTE4LCAxMDAwLjBlNilcbiAgICAgIGAsXG4gICAgICBcIlNldE1hcmtldEJvcnJvd0NhcHNcIixcbiAgICAgIFtcbiAgICAgICAgbmV3IEFyZyhcImNvbXB0cm9sbGVyXCIsIGdldENvbXB0cm9sbGVyLCB7aW1wbGljaXQ6IHRydWV9KSxcbiAgICAgICAgbmV3IEFyZyhcImNUb2tlbnNcIiwgZ2V0Q1Rva2VuViwge21hcHBlZDogdHJ1ZX0pLFxuICAgICAgICBuZXcgQXJnKFwiYm9ycm93Q2Fwc1wiLCBnZXROdW1iZXJWLCB7bWFwcGVkOiB0cnVlfSlcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlcixjVG9rZW5zLGJvcnJvd0NhcHN9KSA9PiBzZXRNYXJrZXRCb3Jyb3dDYXBzKHdvcmxkLCBmcm9tLCBjb21wdHJvbGxlciwgY1Rva2VucywgYm9ycm93Q2FwcylcbiAgICApLFxuICAgIG5ldyBDb21tYW5kPHtjb21wdHJvbGxlcjogQ29tcHRyb2xsZXIsIG5ld0JvcnJvd0NhcEd1YXJkaWFuOiBBZGRyZXNzVn0+KGBcbiAgICAgICAgIyMjIyBTZXRCb3Jyb3dDYXBHdWFyZGlhblxuXG4gICAgICAgICogXCJDb21wdHJvbGxlciBTZXRCb3Jyb3dDYXBHdWFyZGlhbiBuZXdCb3Jyb3dDYXBHdWFyZGlhbjo8QWRkcmVzcz5cIiAtIFNldHMgdGhlIEJvcnJvdyBDYXAgR3VhcmRpYW4gZm9yIHRoZSBDb21wdHJvbGxlclxuICAgICAgICAgICogRS5nLiBcIkNvbXB0cm9sbGVyIFNldEJvcnJvd0NhcEd1YXJkaWFuIEdlb2ZmXCJcbiAgICAgIGAsXG4gICAgICBcIlNldEJvcnJvd0NhcEd1YXJkaWFuXCIsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoXCJjb21wdHJvbGxlclwiLCBnZXRDb21wdHJvbGxlciwge2ltcGxpY2l0OiB0cnVlfSksXG4gICAgICAgIG5ldyBBcmcoXCJuZXdCb3Jyb3dDYXBHdWFyZGlhblwiLCBnZXRBZGRyZXNzVilcbiAgICAgIF0sXG4gICAgICAod29ybGQsIGZyb20sIHtjb21wdHJvbGxlciwgbmV3Qm9ycm93Q2FwR3VhcmRpYW59KSA9PiBzZXRCb3Jyb3dDYXBHdWFyZGlhbih3b3JsZCwgZnJvbSwgY29tcHRyb2xsZXIsIG5ld0JvcnJvd0NhcEd1YXJkaWFuLnZhbClcbiAgICApXG4gIF07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQ29tcHRyb2xsZXJFdmVudCh3b3JsZDogV29ybGQsIGV2ZW50OiBFdmVudCwgZnJvbTogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8V29ybGQ+IHtcbiAgcmV0dXJuIGF3YWl0IHByb2Nlc3NDb21tYW5kRXZlbnQ8YW55PihcIkNvbXB0cm9sbGVyXCIsIGNvbXB0cm9sbGVyQ29tbWFuZHMoKSwgd29ybGQsIGV2ZW50LCBmcm9tKTtcbn1cbiJdfQ==