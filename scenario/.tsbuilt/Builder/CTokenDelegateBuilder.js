"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildCTokenDelegate = void 0;
const CoreValue_1 = require("../CoreValue");
const Command_1 = require("../Command");
const Networks_1 = require("../Networks");
const Contract_1 = require("../Contract");
const CDaiDelegateContract = Contract_1.getContract('CDaiDelegate');
const CDaiDelegateScenarioContract = Contract_1.getTestContract('CDaiDelegateScenario');
const CErc20DelegateContract = Contract_1.getContract('CErc20Delegate');
const CErc20DelegateScenarioContract = Contract_1.getTestContract('CErc20DelegateScenario');
async function buildCTokenDelegate(world, from, params) {
    const fetchers = [
        new Command_1.Fetcher(`
        #### CDaiDelegate

        * "CDaiDelegate name:<String>"
          * E.g. "CTokenDelegate Deploy CDaiDelegate cDAIDelegate"
      `, 'CDaiDelegate', [
            new Command_1.Arg('name', CoreValue_1.getStringV)
        ], async (world, { name }) => {
            return {
                invokation: await CDaiDelegateContract.deploy(world, from, []),
                name: name.val,
                contract: 'CDaiDelegate',
                description: 'Standard CDai Delegate'
            };
        }),
        new Command_1.Fetcher(`
        #### CDaiDelegateScenario

        * "CDaiDelegateScenario name:<String>" - A CDaiDelegate Scenario for local testing
          * E.g. "CTokenDelegate Deploy CDaiDelegateScenario cDAIDelegate"
      `, 'CDaiDelegateScenario', [
            new Command_1.Arg('name', CoreValue_1.getStringV)
        ], async (world, { name }) => {
            return {
                invokation: await CDaiDelegateScenarioContract.deploy(world, from, []),
                name: name.val,
                contract: 'CDaiDelegateScenario',
                description: 'Scenario CDai Delegate'
            };
        }),
        new Command_1.Fetcher(`
        #### CErc20Delegate

        * "CErc20Delegate name:<String>"
          * E.g. "CTokenDelegate Deploy CErc20Delegate cDAIDelegate"
      `, 'CErc20Delegate', [
            new Command_1.Arg('name', CoreValue_1.getStringV)
        ], async (world, { name }) => {
            return {
                invokation: await CErc20DelegateContract.deploy(world, from, []),
                name: name.val,
                contract: 'CErc20Delegate',
                description: 'Standard CErc20 Delegate'
            };
        }),
        new Command_1.Fetcher(`
        #### CErc20DelegateScenario

        * "CErc20DelegateScenario name:<String>" - A CErc20Delegate Scenario for local testing
          * E.g. "CTokenDelegate Deploy CErc20DelegateScenario cDAIDelegate"
      `, 'CErc20DelegateScenario', [
            new Command_1.Arg('name', CoreValue_1.getStringV),
        ], async (world, { name }) => {
            return {
                invokation: await CErc20DelegateScenarioContract.deploy(world, from, []),
                name: name.val,
                contract: 'CErc20DelegateScenario',
                description: 'Scenario CErc20 Delegate'
            };
        })
    ];
    let delegateData = await Command_1.getFetcherValue("DeployCToken", fetchers, world, params);
    let invokation = delegateData.invokation;
    delete delegateData.invokation;
    if (invokation.error) {
        throw invokation.error;
    }
    const cTokenDelegate = invokation.value;
    world = await Networks_1.storeAndSaveContract(world, cTokenDelegate, delegateData.name, invokation, [
        {
            index: ['CTokenDelegate', delegateData.name],
            data: {
                address: cTokenDelegate._address,
                contract: delegateData.contract,
                description: delegateData.description
            }
        }
    ]);
    return { world, cTokenDelegate, delegateData };
}
exports.buildCTokenDelegate = buildCTokenDelegate;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ1Rva2VuRGVsZWdhdGVCdWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0J1aWxkZXIvQ1Rva2VuRGVsZWdhdGVCdWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLDRDQUEwQztBQUUxQyx3Q0FBMkQ7QUFDM0QsMENBQW1EO0FBQ25ELDBDQUEyRDtBQUUzRCxNQUFNLG9CQUFvQixHQUFHLHNCQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDekQsTUFBTSw0QkFBNEIsR0FBRywwQkFBZSxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDN0UsTUFBTSxzQkFBc0IsR0FBRyxzQkFBVyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDN0QsTUFBTSw4QkFBOEIsR0FBRywwQkFBZSxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFVMUUsS0FBSyxVQUFVLG1CQUFtQixDQUN2QyxLQUFZLEVBQ1osSUFBWSxFQUNaLE1BQWE7SUFFYixNQUFNLFFBQVEsR0FBRztRQUNmLElBQUksaUJBQU8sQ0FDVDs7Ozs7T0FLQyxFQUNELGNBQWMsRUFDZDtZQUNFLElBQUksYUFBRyxDQUFDLE1BQU0sRUFBRSxzQkFBVSxDQUFDO1NBQzVCLEVBQ0QsS0FBSyxFQUNILEtBQUssRUFDTCxFQUFFLElBQUksRUFBRSxFQUNSLEVBQUU7WUFDRixPQUFPO2dCQUNMLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDLE1BQU0sQ0FBaUIsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQzlFLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDZCxRQUFRLEVBQUUsY0FBYztnQkFDeEIsV0FBVyxFQUFFLHdCQUF3QjthQUN0QyxDQUFDO1FBQ0osQ0FBQyxDQUNGO1FBRUQsSUFBSSxpQkFBTyxDQUNUOzs7OztPQUtDLEVBQ0Qsc0JBQXNCLEVBQ3RCO1lBQ0UsSUFBSSxhQUFHLENBQUMsTUFBTSxFQUFFLHNCQUFVLENBQUM7U0FDNUIsRUFDRCxLQUFLLEVBQ0gsS0FBSyxFQUNMLEVBQUUsSUFBSSxFQUFFLEVBQ1IsRUFBRTtZQUNGLE9BQU87Z0JBQ0wsVUFBVSxFQUFFLE1BQU0sNEJBQTRCLENBQUMsTUFBTSxDQUF5QixLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDOUYsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNkLFFBQVEsRUFBRSxzQkFBc0I7Z0JBQ2hDLFdBQVcsRUFBRSx3QkFBd0I7YUFDdEMsQ0FBQztRQUNKLENBQUMsQ0FDRjtRQUVELElBQUksaUJBQU8sQ0FDVDs7Ozs7T0FLQyxFQUNELGdCQUFnQixFQUNoQjtZQUNFLElBQUksYUFBRyxDQUFDLE1BQU0sRUFBRSxzQkFBVSxDQUFDO1NBQzVCLEVBQ0QsS0FBSyxFQUNILEtBQUssRUFDTCxFQUFFLElBQUksRUFBRSxFQUNSLEVBQUU7WUFDRixPQUFPO2dCQUNMLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDLE1BQU0sQ0FBaUIsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQ2hGLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDZCxRQUFRLEVBQUUsZ0JBQWdCO2dCQUMxQixXQUFXLEVBQUUsMEJBQTBCO2FBQ3hDLENBQUM7UUFDSixDQUFDLENBQ0Y7UUFFRCxJQUFJLGlCQUFPLENBQ1Q7Ozs7O09BS0MsRUFDRCx3QkFBd0IsRUFDeEI7WUFDRSxJQUFJLGFBQUcsQ0FBQyxNQUFNLEVBQUUsc0JBQVUsQ0FBQztTQUM1QixFQUNELEtBQUssRUFDSCxLQUFLLEVBQ0wsRUFBRSxJQUFJLEVBQUUsRUFDUixFQUFFO1lBQ0YsT0FBTztnQkFDTCxVQUFVLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQyxNQUFNLENBQXlCLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUNoRyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2QsUUFBUSxFQUFFLHdCQUF3QjtnQkFDbEMsV0FBVyxFQUFFLDBCQUEwQjthQUN4QyxDQUFDO1FBQ0osQ0FBQyxDQUNGO0tBQ0YsQ0FBQztJQUVGLElBQUksWUFBWSxHQUFHLE1BQU0seUJBQWUsQ0FBMEIsY0FBYyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDM0csSUFBSSxVQUFVLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxPQUFPLFlBQVksQ0FBQyxVQUFVLENBQUM7SUFFL0IsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFO1FBQ3BCLE1BQU0sVUFBVSxDQUFDLEtBQUssQ0FBQztLQUN4QjtJQUVELE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxLQUFNLENBQUM7SUFFekMsS0FBSyxHQUFHLE1BQU0sK0JBQW9CLENBQ2hDLEtBQUssRUFDTCxjQUFjLEVBQ2QsWUFBWSxDQUFDLElBQUksRUFDakIsVUFBVSxFQUNWO1FBQ0U7WUFDRSxLQUFLLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQzVDLElBQUksRUFBRTtnQkFDSixPQUFPLEVBQUUsY0FBYyxDQUFDLFFBQVE7Z0JBQ2hDLFFBQVEsRUFBRSxZQUFZLENBQUMsUUFBUTtnQkFDL0IsV0FBVyxFQUFFLFlBQVksQ0FBQyxXQUFXO2FBQ3RDO1NBQ0Y7S0FDRixDQUNGLENBQUM7SUFFRixPQUFPLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsQ0FBQztBQUNqRCxDQUFDO0FBbklELGtEQW1JQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vRXZlbnQnO1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuLi9Xb3JsZCc7XG5pbXBvcnQgeyBDRXJjMjBEZWxlZ2F0ZSwgQ0VyYzIwRGVsZWdhdGVTY2VuYXJpbyB9IGZyb20gJy4uL0NvbnRyYWN0L0NFcmMyMERlbGVnYXRlJztcbmltcG9ydCB7IENUb2tlbiB9IGZyb20gJy4uL0NvbnRyYWN0L0NUb2tlbic7XG5pbXBvcnQgeyBJbnZva2F0aW9uIH0gZnJvbSAnLi4vSW52b2thdGlvbic7XG5pbXBvcnQgeyBnZXRTdHJpbmdWIH0gZnJvbSAnLi4vQ29yZVZhbHVlJztcbmltcG9ydCB7IEFkZHJlc3NWLCBOdW1iZXJWLCBTdHJpbmdWIH0gZnJvbSAnLi4vVmFsdWUnO1xuaW1wb3J0IHsgQXJnLCBGZXRjaGVyLCBnZXRGZXRjaGVyVmFsdWUgfSBmcm9tICcuLi9Db21tYW5kJztcbmltcG9ydCB7IHN0b3JlQW5kU2F2ZUNvbnRyYWN0IH0gZnJvbSAnLi4vTmV0d29ya3MnO1xuaW1wb3J0IHsgZ2V0Q29udHJhY3QsIGdldFRlc3RDb250cmFjdCB9IGZyb20gJy4uL0NvbnRyYWN0JztcblxuY29uc3QgQ0RhaURlbGVnYXRlQ29udHJhY3QgPSBnZXRDb250cmFjdCgnQ0RhaURlbGVnYXRlJyk7XG5jb25zdCBDRGFpRGVsZWdhdGVTY2VuYXJpb0NvbnRyYWN0ID0gZ2V0VGVzdENvbnRyYWN0KCdDRGFpRGVsZWdhdGVTY2VuYXJpbycpO1xuY29uc3QgQ0VyYzIwRGVsZWdhdGVDb250cmFjdCA9IGdldENvbnRyYWN0KCdDRXJjMjBEZWxlZ2F0ZScpO1xuY29uc3QgQ0VyYzIwRGVsZWdhdGVTY2VuYXJpb0NvbnRyYWN0ID0gZ2V0VGVzdENvbnRyYWN0KCdDRXJjMjBEZWxlZ2F0ZVNjZW5hcmlvJyk7XG5cblxuZXhwb3J0IGludGVyZmFjZSBDVG9rZW5EZWxlZ2F0ZURhdGEge1xuICBpbnZva2F0aW9uOiBJbnZva2F0aW9uPENFcmMyMERlbGVnYXRlPjtcbiAgbmFtZTogc3RyaW5nO1xuICBjb250cmFjdDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1aWxkQ1Rva2VuRGVsZWdhdGUoXG4gIHdvcmxkOiBXb3JsZCxcbiAgZnJvbTogc3RyaW5nLFxuICBwYXJhbXM6IEV2ZW50XG4pOiBQcm9taXNlPHsgd29ybGQ6IFdvcmxkOyBjVG9rZW5EZWxlZ2F0ZTogQ0VyYzIwRGVsZWdhdGU7IGRlbGVnYXRlRGF0YTogQ1Rva2VuRGVsZWdhdGVEYXRhIH0+IHtcbiAgY29uc3QgZmV0Y2hlcnMgPSBbXG4gICAgbmV3IEZldGNoZXI8eyBuYW1lOiBTdHJpbmdWOyB9LCBDVG9rZW5EZWxlZ2F0ZURhdGE+KFxuICAgICAgYFxuICAgICAgICAjIyMjIENEYWlEZWxlZ2F0ZVxuXG4gICAgICAgICogXCJDRGFpRGVsZWdhdGUgbmFtZTo8U3RyaW5nPlwiXG4gICAgICAgICAgKiBFLmcuIFwiQ1Rva2VuRGVsZWdhdGUgRGVwbG95IENEYWlEZWxlZ2F0ZSBjREFJRGVsZWdhdGVcIlxuICAgICAgYCxcbiAgICAgICdDRGFpRGVsZWdhdGUnLFxuICAgICAgW1xuICAgICAgICBuZXcgQXJnKCduYW1lJywgZ2V0U3RyaW5nVilcbiAgICAgIF0sXG4gICAgICBhc3luYyAoXG4gICAgICAgIHdvcmxkLFxuICAgICAgICB7IG5hbWUgfVxuICAgICAgKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW52b2thdGlvbjogYXdhaXQgQ0RhaURlbGVnYXRlQ29udHJhY3QuZGVwbG95PENFcmMyMERlbGVnYXRlPih3b3JsZCwgZnJvbSwgW10pLFxuICAgICAgICAgIG5hbWU6IG5hbWUudmFsLFxuICAgICAgICAgIGNvbnRyYWN0OiAnQ0RhaURlbGVnYXRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1N0YW5kYXJkIENEYWkgRGVsZWdhdGUnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKSxcblxuICAgIG5ldyBGZXRjaGVyPHsgbmFtZTogU3RyaW5nVjsgfSwgQ1Rva2VuRGVsZWdhdGVEYXRhPihcbiAgICAgIGBcbiAgICAgICAgIyMjIyBDRGFpRGVsZWdhdGVTY2VuYXJpb1xuXG4gICAgICAgICogXCJDRGFpRGVsZWdhdGVTY2VuYXJpbyBuYW1lOjxTdHJpbmc+XCIgLSBBIENEYWlEZWxlZ2F0ZSBTY2VuYXJpbyBmb3IgbG9jYWwgdGVzdGluZ1xuICAgICAgICAgICogRS5nLiBcIkNUb2tlbkRlbGVnYXRlIERlcGxveSBDRGFpRGVsZWdhdGVTY2VuYXJpbyBjREFJRGVsZWdhdGVcIlxuICAgICAgYCxcbiAgICAgICdDRGFpRGVsZWdhdGVTY2VuYXJpbycsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoJ25hbWUnLCBnZXRTdHJpbmdWKVxuICAgICAgXSxcbiAgICAgIGFzeW5jIChcbiAgICAgICAgd29ybGQsXG4gICAgICAgIHsgbmFtZSB9XG4gICAgICApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbnZva2F0aW9uOiBhd2FpdCBDRGFpRGVsZWdhdGVTY2VuYXJpb0NvbnRyYWN0LmRlcGxveTxDRXJjMjBEZWxlZ2F0ZVNjZW5hcmlvPih3b3JsZCwgZnJvbSwgW10pLFxuICAgICAgICAgIG5hbWU6IG5hbWUudmFsLFxuICAgICAgICAgIGNvbnRyYWN0OiAnQ0RhaURlbGVnYXRlU2NlbmFyaW8nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2NlbmFyaW8gQ0RhaSBEZWxlZ2F0ZSdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApLFxuXG4gICAgbmV3IEZldGNoZXI8eyBuYW1lOiBTdHJpbmdWOyB9LCBDVG9rZW5EZWxlZ2F0ZURhdGE+KFxuICAgICAgYFxuICAgICAgICAjIyMjIENFcmMyMERlbGVnYXRlXG5cbiAgICAgICAgKiBcIkNFcmMyMERlbGVnYXRlIG5hbWU6PFN0cmluZz5cIlxuICAgICAgICAgICogRS5nLiBcIkNUb2tlbkRlbGVnYXRlIERlcGxveSBDRXJjMjBEZWxlZ2F0ZSBjREFJRGVsZWdhdGVcIlxuICAgICAgYCxcbiAgICAgICdDRXJjMjBEZWxlZ2F0ZScsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoJ25hbWUnLCBnZXRTdHJpbmdWKVxuICAgICAgXSxcbiAgICAgIGFzeW5jIChcbiAgICAgICAgd29ybGQsXG4gICAgICAgIHsgbmFtZSB9XG4gICAgICApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbnZva2F0aW9uOiBhd2FpdCBDRXJjMjBEZWxlZ2F0ZUNvbnRyYWN0LmRlcGxveTxDRXJjMjBEZWxlZ2F0ZT4od29ybGQsIGZyb20sIFtdKSxcbiAgICAgICAgICBuYW1lOiBuYW1lLnZhbCxcbiAgICAgICAgICBjb250cmFjdDogJ0NFcmMyMERlbGVnYXRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1N0YW5kYXJkIENFcmMyMCBEZWxlZ2F0ZSdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApLFxuXG4gICAgbmV3IEZldGNoZXI8eyBuYW1lOiBTdHJpbmdWOyB9LCBDVG9rZW5EZWxlZ2F0ZURhdGE+KFxuICAgICAgYFxuICAgICAgICAjIyMjIENFcmMyMERlbGVnYXRlU2NlbmFyaW9cblxuICAgICAgICAqIFwiQ0VyYzIwRGVsZWdhdGVTY2VuYXJpbyBuYW1lOjxTdHJpbmc+XCIgLSBBIENFcmMyMERlbGVnYXRlIFNjZW5hcmlvIGZvciBsb2NhbCB0ZXN0aW5nXG4gICAgICAgICAgKiBFLmcuIFwiQ1Rva2VuRGVsZWdhdGUgRGVwbG95IENFcmMyMERlbGVnYXRlU2NlbmFyaW8gY0RBSURlbGVnYXRlXCJcbiAgICAgIGAsXG4gICAgICAnQ0VyYzIwRGVsZWdhdGVTY2VuYXJpbycsXG4gICAgICBbXG4gICAgICAgIG5ldyBBcmcoJ25hbWUnLCBnZXRTdHJpbmdWKSxcbiAgICAgIF0sXG4gICAgICBhc3luYyAoXG4gICAgICAgIHdvcmxkLFxuICAgICAgICB7IG5hbWUgfVxuICAgICAgKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW52b2thdGlvbjogYXdhaXQgQ0VyYzIwRGVsZWdhdGVTY2VuYXJpb0NvbnRyYWN0LmRlcGxveTxDRXJjMjBEZWxlZ2F0ZVNjZW5hcmlvPih3b3JsZCwgZnJvbSwgW10pLFxuICAgICAgICAgIG5hbWU6IG5hbWUudmFsLFxuICAgICAgICAgIGNvbnRyYWN0OiAnQ0VyYzIwRGVsZWdhdGVTY2VuYXJpbycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTY2VuYXJpbyBDRXJjMjAgRGVsZWdhdGUnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKVxuICBdO1xuXG4gIGxldCBkZWxlZ2F0ZURhdGEgPSBhd2FpdCBnZXRGZXRjaGVyVmFsdWU8YW55LCBDVG9rZW5EZWxlZ2F0ZURhdGE+KFwiRGVwbG95Q1Rva2VuXCIsIGZldGNoZXJzLCB3b3JsZCwgcGFyYW1zKTtcbiAgbGV0IGludm9rYXRpb24gPSBkZWxlZ2F0ZURhdGEuaW52b2thdGlvbjtcbiAgZGVsZXRlIGRlbGVnYXRlRGF0YS5pbnZva2F0aW9uO1xuXG4gIGlmIChpbnZva2F0aW9uLmVycm9yKSB7XG4gICAgdGhyb3cgaW52b2thdGlvbi5lcnJvcjtcbiAgfVxuXG4gIGNvbnN0IGNUb2tlbkRlbGVnYXRlID0gaW52b2thdGlvbi52YWx1ZSE7XG5cbiAgd29ybGQgPSBhd2FpdCBzdG9yZUFuZFNhdmVDb250cmFjdChcbiAgICB3b3JsZCxcbiAgICBjVG9rZW5EZWxlZ2F0ZSxcbiAgICBkZWxlZ2F0ZURhdGEubmFtZSxcbiAgICBpbnZva2F0aW9uLFxuICAgIFtcbiAgICAgIHtcbiAgICAgICAgaW5kZXg6IFsnQ1Rva2VuRGVsZWdhdGUnLCBkZWxlZ2F0ZURhdGEubmFtZV0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhZGRyZXNzOiBjVG9rZW5EZWxlZ2F0ZS5fYWRkcmVzcyxcbiAgICAgICAgICBjb250cmFjdDogZGVsZWdhdGVEYXRhLmNvbnRyYWN0LFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZWxlZ2F0ZURhdGEuZGVzY3JpcHRpb25cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgKTtcblxuICByZXR1cm4geyB3b3JsZCwgY1Rva2VuRGVsZWdhdGUsIGRlbGVnYXRlRGF0YSB9O1xufVxuIl19